<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BizMail ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header / Hero Section */
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .hero h1 {
            font-size: 3em;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.3em;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .hero-btn {
            background: white;
            color: #667eea;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .hero-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(0,0,0,0.3);
        }

        /* Benefits Section */
        .benefits {
            background: white;
            padding: 60px 20px;
        }

        .benefits h2 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 50px;
            color: #333;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .benefit-card {
            background: #f8f9ff;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
        }

        .benefit-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .benefit-card h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: #667eea;
        }

        /* How it works */
        .how-it-works {
            background: #f8f9ff;
            padding: 60px 20px;
        }

        .how-it-works h2 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 50px;
            color: #333;
        }

        .steps {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            max-width: 900px;
            margin: 0 auto;
            gap: 20px;
        }

        .step {
            flex: 1;
            min-width: 200px;
            text-align: center;
            padding: 20px;
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        /* Generator Section */
        .generator {
            background: white;
            padding: 60px 20px;
            min-height: 100vh;
            display: none;
        }

        .generator.active {
            display: block;
        }

        .generator h2 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 40px;
            color: #333;
        }

        .form-container {
            max-width: 900px;
            margin: 0 auto;
            background: #f8f9ff;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
        }

        .form-section {
            margin-bottom: 35px;
            padding-bottom: 35px;
            border-bottom: 2px solid #e0e0e0;
        }

        .form-section:last-child {
            border-bottom: none;
        }

        .form-section h3 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .form-group input[type="text"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .hint {
            font-size: 0.9em;
            color: #888;
            margin-top: 5px;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .radio-option,
        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .radio-option input,
        .checkbox-option input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .extra-directives {
            margin-top: 10px;
        }

        .directive-item {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        .directive-item input {
            flex: 1;
        }

        .btn-remove {
            background: #ff4444;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .btn-add {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 10px;
        }

        .btn-generate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 40px auto 0;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-generate:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
        }

        .btn-generate:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Loading Spinner */
        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Result Section */
        .result {
            max-width: 900px;
            margin: 40px auto;
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            display: none;
        }

        .result.active {
            display: block;
        }

        .result h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .result-subject,
        .result-body {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 2px solid #e0e0e0;
        }

        .result-body {
            white-space: pre-wrap;
            line-height: 1.8;
            min-height: 200px;
        }

        .result-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .result-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }

        .result-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .result-btn.secondary {
            background: #6c757d;
        }

        /* Footer */
        .footer {
            background: #2c3e50;
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        .footer a {
            color: #667eea;
            text-decoration: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2em;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        /* Navigation */
        .nav-back {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 20px;
            font-size: 1em;
        }

        .nav-back:hover {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <!-- HOMEPAGE -->
    <div id="homepage">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <h1>üìß BizMail</h1>
                <h2>AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏</h2>
                <p>–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–µ–ª–æ–≤—ã–µ –ø–∏—Å—å–º–∞ –∑–∞ —Å–µ–∫—É–Ω–¥—ã</p>
                <button class="hero-btn" onclick="showGenerator()">–°–æ–∑–¥–∞—Ç—å –ø–∏—Å—å–º–æ</button>
            </div>
        </section>

        <!-- Benefits Section -->
        <section class="benefits">
            <div class="container">
                <h2>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">‚ö°Ô∏è</div>
                        <h3>–ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è</h3>
                        <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–∏—Å—å–º–∞ –∑–∞ —Å–µ–∫—É–Ω–¥—ã, —ç–∫–æ–Ω–æ–º—å—Ç–µ —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">üéØ</div>
                        <h3>–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å</h3>
                        <p>–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">üîí</div>
                        <h3>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</h3>
                        <p>–ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">üìù</div>
                        <h3>–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å—Ç–∏–ª–µ–π</h3>
                        <p>–®–∞–±–ª–æ–Ω—ã –¥–ª—è –ª—é–±—ã—Ö –¥–µ–ª–æ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- How It Works -->
        <section class="how-it-works">
            <div class="container">
                <h2>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>–í–≤–µ–¥–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–∏—Å—å–º–æ</h3>
                        <p>–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞ –∏–ª–∏ –æ–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–Ω, —Ü–µ–ª—å –∏ —Å—Ç–∏–ª—å –ø–∏—Å—å–º–∞</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>–ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                        <p>–ì–æ—Ç–æ–≤—ã–π —á–µ—Ä–Ω–æ–≤–∏–∫ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Use Cases -->
        <section class="benefits">
            <div class="container">
                <h2>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h2>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <h3>–û—Ç–≤–µ—Ç—ã —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞–º</h3>
                        <p>–§–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–º –æ—Ä–≥–∞–Ω–∞–º</p>
                    </div>
                    <div class="benefit-card">
                        <h3>–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h3>
                        <p>–£–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤</p>
                    </div>
                    <div class="benefit-card">
                        <h3>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                        <p>–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–æ–ª–ª–µ–≥</p>
                    </div>
                    <div class="benefit-card">
                        <h3>–î–µ–ª–æ–≤—ã–µ –ø–∏—Å—å–º–∞</h3>
                        <p>–õ—é–±–∞—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2025 BizMail. –ö–æ–º–∞–Ω–¥–∞ SHIFT HAPPENS x MISIS</p>
                <p><a href="https://github.com/mikhaildvortsov/MAI-hackathon">GitHub</a> | –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</p>
            </div>
        </footer>
    </div>

    <!-- GENERATOR PAGE -->
    <div id="generatorPage" class="generator">
        <button class="nav-back" onclick="showHomepage()">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
        
        <div class="container">
            <h2>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∏—Å—å–º–∞</h2>

            <div class="form-container">
                <form id="emailForm">
                    <!-- –ë–ª–æ–∫ 1: –ò—Å—Ö–æ–¥–Ω–æ–µ –ø–∏—Å—å–º–æ -->
                    <div class="form-section">
                        <h3>üì® –ò—Å—Ö–æ–¥–Ω–æ–µ –ø–∏—Å—å–º–æ</h3>
                        <div class="form-group">
                            <label for="source_subject">–¢–µ–º–∞ –ø–∏—Å—å–º–∞</label>
                            <input type="text" id="source_subject" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–∏—Å—å–º–∞" required>
                        </div>
                        <div class="form-group">
                            <label for="source_body">–¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞</label>
                            <textarea id="source_body" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–∏—Å—å–º–∞ –∏–ª–∏ –æ–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É" required></textarea>
                        </div>
                    </div>

                    <!-- –ë–ª–æ–∫ 2: –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç -->
                    <div class="form-section">
                        <h3>üè¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h3>
                        <div class="form-group">
                            <label for="company_context">–ö–æ–Ω—Ç–µ–∫—Å—Ç –∫–æ–º–ø–∞–Ω–∏–∏</label>
                            <textarea id="company_context" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û –ë–∞–Ω–∫. –°–æ–±–ª—é–¥–∞–µ–º —Å—Ç—Ä–æ–≥–∏–π –¥–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å."></textarea>
                            <div class="hint">–≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–æ –≤—Å–µ—Ö –ø–∏—Å—å–º–∞—Ö</div>
                        </div>
                    </div>

                    <!-- –ë–ª–æ–∫ 3: –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è -->
                    <div class="form-section">
                        <h3>üë§ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="sender_first_name">–ò–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                                <input type="text" id="sender_first_name" placeholder="–ê–Ω–Ω–∞">
                            </div>
                            <div class="form-group">
                                <label for="sender_last_name">–§–∞–º–∏–ª–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                                <input type="text" id="sender_last_name" placeholder="–ò–≤–∞–Ω–æ–≤–∞">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sender_position">–î–æ–ª–∂–Ω–æ—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                            <input type="text" id="sender_position" placeholder="–ù–∞—á–∞–ª—å–Ω–∏–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è">
                        </div>
                        <div class="hint">–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –ø–æ–¥–ø–∏—Å–∏ –ø–∏—Å—å–º–∞</div>
                    </div>

                    <!-- –ë–ª–æ–∫ 4: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ -->
                    <div class="form-section">
                        <h3>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏</h3>
                        
                        <div class="form-group">
                            <label>–¢–æ–Ω –ø–∏—Å—å–º–∞</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" name="tone" value="formal" id="tone_formal" checked>
                                    <label for="tone_formal">–§–æ—Ä–º–∞–ª—å–Ω—ã–π</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="tone" value="neutral" id="tone_neutral">
                                    <label for="tone_neutral">–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="tone" value="friendly" id="tone_friendly">
                                    <label for="tone_friendly">–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="purpose">–¶–µ–ª—å –ø–∏—Å—å–º–∞</label>
                                <select id="purpose">
                                    <option value="response">–û—Ç–≤–µ—Ç</option>
                                    <option value="proposal">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</option>
                                    <option value="notification">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</option>
                                    <option value="refusal">–û—Ç–∫–∞–∑</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="audience">–ê—É–¥–∏—Ç–æ—Ä–∏—è</label>
                                <select id="audience">
                                    <option value="colleague">–ö–æ–ª–ª–µ–≥–∞</option>
                                    <option value="manager">–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å</option>
                                    <option value="client">–ö–ª–∏–µ–Ω—Ç</option>
                                    <option value="partner">–ü–∞—Ä—Ç–Ω–µ—Ä</option>
                                    <option value="regulator">–†–µ–≥—É–ª—è—Ç–æ—Ä</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>–î–ª–∏–Ω–∞ –ø–∏—Å—å–º–∞</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" name="length" value="short" id="length_short" checked>
                                    <label for="length_short">–ö–æ—Ä–æ—Ç–∫–æ–µ (3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="length" value="medium" id="length_medium">
                                    <label for="length_medium">–°—Ä–µ–¥–Ω–µ–µ (5-8 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="length" value="long" id="length_long">
                                    <label for="length_long">–î–ª–∏–Ω–Ω–æ–µ (8-12 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>–°—Ç–∏–ª—å –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" name="address_style" value="vy" id="address_vy" checked>
                                    <label for="address_vy">–ù–∞ "–í—ã"</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="address_style" value="ty" id="address_ty">
                                    <label for="address_ty">–ù–∞ "—Ç—ã"</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" name="address_style" value="full_name" id="address_full">
                                    <label for="address_full">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="urgency">–°—Ä–æ—á–Ω–æ—Å—Ç—å</label>
                            <select id="urgency">
                                <option value="low">–ù–∏–∑–∫–∞—è</option>
                                <option value="normal" selected>–û–±—ã—á–Ω–∞—è</option>
                                <option value="high">–í—ã—Å–æ–∫–∞—è</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏</label>
                            <div class="checkbox-group">
                                <div class="checkbox-option">
                                    <input type="checkbox" id="include_formal_greetings" checked>
                                    <label for="include_formal_greetings">–§–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è</label>
                                </div>
                                <div class="checkbox-option">
                                    <input type="checkbox" id="include_greeting_and_signoff" checked>
                                    <label for="include_greeting_and_signoff">–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ</label>
                                </div>
                                <div class="checkbox-option">
                                    <input type="checkbox" id="include_corporate_phrases" checked>
                                    <label for="include_corporate_phrases">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–∫–∞–∑–∞–Ω–∏—è</label>
                            <div class="extra-directives" id="extraDirectives"></div>
                            <button type="button" class="btn-add" onclick="addDirective()">+ –î–æ–±–∞–≤–∏—Ç—å —É–∫–∞–∑–∞–Ω–∏–µ</button>
                        </div>

                        <div class="form-group">
                            <label for="custom_prompt">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
                            <textarea id="custom_prompt" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É–∫–∞–∑–∞–Ω–∏–π"></textarea>
                            <div class="hint">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —è–≤–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏–ª–∏ —Ü–µ–ª–∏ –ø–∏—Å—å–º–∞</div>
                        </div>
                    </div>

                    <button type="submit" class="btn-generate" id="generateBtn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ</button>
                </form>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–∞—à–µ –ø–∏—Å—å–º–æ...</p>
                </div>

                <div class="result" id="result">
                    <h3>üìß –¢–µ–º–∞ –ø–∏—Å—å–º–∞:</h3>
                    <div class="result-subject" id="resultSubject" contenteditable="true"></div>

                    <h3>üìù –¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞:</h3>
                    <div class="result-body" id="resultBody" contenteditable="true"></div>

                    <div class="result-actions">
                        <button class="result-btn" onclick="copyResult()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë</button>
                        <button class="result-btn" onclick="copySubject()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–º—É</button>
                        <button class="result-btn" onclick="copyBody()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç</button>
                        <button class="result-btn secondary" onclick="generateAgain()">üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API Configuration
        const API_BASE_URL = 'http://localhost:8000';

        // Navigation
        function showGenerator() {
            document.getElementById('homepage').style.display = 'none';
            document.getElementById('generatorPage').classList.add('active');
        }

        function showHomepage() {
            document.getElementById('homepage').style.display = 'block';
            document.getElementById('generatorPage').classList.remove('active');
            document.getElementById('result').classList.remove('active');
        }

        // Directives Management
        let directiveCount = 0;

        function addDirective() {
            directiveCount++;
            const container = document.getElementById('extraDirectives');
            const div = document.createElement('div');
            div.className = 'directive-item';
            div.id = `directive-${directiveCount}`;
            div.innerHTML = `
                <input type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —É–∫–∞–∑–∞–Ω–∏–µ" class="directive-input">
                <button type="button" class="btn-remove" onclick="removeDirective(${directiveCount})">–£–¥–∞–ª–∏—Ç—å</button>
            `;
            container.appendChild(div);
        }

        function removeDirective(id) {
            document.getElementById(`directive-${id}`).remove();
        }

        // Form Submission
        document.getElementById('emailForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            // Collect directives
            const directives = [];
            document.querySelectorAll('.directive-input').forEach(input => {
                if (input.value.trim()) {
                    directives.push(input.value.trim());
                }
            });

            // Prepare request data according to your backend schema
            const requestData = {
                source_subject: document.getElementById('source_subject').value,
                source_body: document.getElementById('source_body').value,
                company_context: document.getElementById('company_context').value || '',
                sender_first_name: document.getElementById('sender_first_name').value || '',
                sender_last_name: document.getElementById('sender_last_name').value || '',
                sender_position: document.getElementById('sender_position').value || '',
                custom_prompt: document.getElementById('custom_prompt').value || '',
                parameters: {
                    tone: document.querySelector('input[name="tone"]:checked').value,
                    purpose: document.getElementById('purpose').value,
                    length: document.querySelector('input[name="length"]:checked').value,
                    audience: document.getElementById('audience').value,
                    address_style: document.querySelector('input[name="address_style"]:checked').value,
                    include_formal_greetings: document.getElementById('include_formal_greetings').checked,
                    include_greeting_and_signoff: document.getElementById('include_greeting_and_signoff').checked,
                    urgency: document.getElementById('urgency').value,
                    include_corporate_phrases: document.getElementById('include_corporate_phrases').checked,
                    extra_directives: directives
                }
            };

            // Show loading
            document.getElementById('generateBtn').disabled = true;
            document.getElementById('loading').classList.add('active');
            document.getElementById('result').classList.remove('active');

            try {
                const response = await fetch(`${API_BASE_URL}/api/emails/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestData)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();

                // Display results
                document.getElementById('resultSubject').textContent = data.subject;
                document.getElementById('resultBody').textContent = data.body;
                document.getElementById('result').classList.add('active');

            } catch (error) {
                console.error('Error:', error);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∏—Å—å–º–∞. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8000');
            } finally {
                document.getElementById('loading').classList.remove('active');
                document.getElementById('generateBtn').disabled = false;
            }
        });

        // Copy functions
        function copyResult() {
            const subject = document.getElementById('resultSubject').textContent;
            const body = document.getElementById('resultBody').textContent;
            const text = `–¢–µ–º–∞: ${subject}\n\n${body}`;
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ –ü–∏—Å—å–º–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            });
        }

        function copySubject() {
            const text = document.getElementById('resultSubject').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ –¢–µ–º–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
            });
        }

        function copyBody() {
            const text = document.getElementById('resultBody').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ –¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!');
            });
        }

        function generateAgain() {
            document.getElementById('emailForm').requestSubmit();
        }
    </script>
</body>
</html>
